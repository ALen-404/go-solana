# Solana 交易导出工具

这是一个从 Solana 区块链中获取特定代币的交易数据，并将其导出为 CSV 文件。导出的数据包括交易日期、类型（买入或卖出）、涉及的 GOAT 和 SOL 代币数量以及交易签名。

---

## 功能特点

- 从 Solana 区块链中获取指定代币的交易数据。
- 处理交易数据，判断买入/卖出操作。
- 将处理后的交易数据导出为 CSV 文件（`transactions.csv`）。

---

## 前置要求

1. **Go 语言**：确保已安装 Go（建议使用 v1.19 或更高版本）。
2. **Solana RPC 地址**：需要一个有效的 Solana RPC 端点。
3. **环境变量**：应用程序通过环境变量进行配置。

---

## 安装与配置

1. **安装依赖**
   运行以下命令安装所需的 Go 包：
   ```bash
   go mod tidy
   ```

2. **配置环境变量**
   在项目根目录下创建一个 `.env` 文件，并添加以下内容：
   ```env
   RPC_URL=<你的_solana_rpc_url>
   TOKEN_MINT_ADDRESS=<代币地址>
   SOL_MINT_ADDRESS=<sol_代币铸造地址>
   GOAT_MINT_ADDRESS=<goat_代币铸造地址>
   MAX_TRANSACTIONS=<要获取的最大交易数>
   ```

---

## 使用方法

1. **运行程序**
   ```bash
   go run main.go
   ```

2. **输出结果**
   - 程序将获取指定代币的交易数据。
   - 处理后的交易数据会保存到 `transactions.csv` 文件中，格式如下：
     ```
     日期, 类型, GOAT, SOL, 交易签名
     2024-12-24 10:23:45, Buy, 100.000000, 0.123456789, ABC1234SIGNATURE
     ```

---

## 功能概览

1. **获取交易数据**：通过 Solana RPC 获取指定代币地址的交易签名。
2. **速率限制**：使用速率限制器（每秒 5 个请求）避免 RPC 过载。
3. **处理交易数据**：分析交易的代币余额变化，判断交易类型（买入或卖出）。
4. **导出为 CSV**：将处理后的交易数据写入 CSV 文件。

---

## 错误处理

- 如果环境变量缺失，程序会提示错误信息并终止运行。
- 处理 Solana RPC 的错误时会记录日志，并继续处理其他交易。

---

